<!DOCTYPE HTML>
<html>
	<head>
		<meta property="og:image" content="./img/eu.png" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://dcubix.github.io/"/>
		<meta property="og:title" content="Diego Lopes" />
		<meta property="og:description" content="Graphics Programmer" />

		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>Diego Lopes</title>

		<link href="https://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" rel="stylesheet" />

		<link rel="stylesheet" href="./css/main.css" />
		<link rel="stylesheet" href="./css/layout.css" />
		<!-- <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css" /> -->

		<link rel="shortcut icon" href="./favicon.ico" />
	</head>
	<body>
		<script src="https://code.jquery.com/jquery-3.3.1.min.js"
				integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
				crossorigin="anonymous"></script>

		<div id="main" class="container">
			<div class="container header" id="mainHeader">
				<canvas class="headerCanvas" id="disp"></canvas>

				<div class="avatar">
					<div id="avatar" class="round-image pop"
						style="background-image: linear-gradient(rgba(229, 223, 197, 0.5), rgba(229, 223, 197, 0.4)), url('./img/eu.png');"
						title="Me">
					</div>
				</div>
				<div class="container">
					<h1 class="title"><b>Diego Lopes</b></h1>
					<h4 class="sub-title">Graphics Programmer</h4>
					<div class="social">
						<a class="fi-social-github menu-btn"
								 href="https://github.com/DCubix" title="GitHub" ></a>
						<a class="fi-social-youtube menu-btn"
								 href="https://www.youtube.com/channel/UC8PT3EuTH7P_3D9K9ADCmow" title="YouTube" ></a>
						<a class="fi-mail menu-btn"
								 href="mailto:diego95lopes@gmail.com" title="E-Mail" ></a>
					</div>
				</div>
			</div>
			<div class="container">
				<section>
					<h2 id="welcome">Hello!</h2>
					<p>I'm a programmer, I mostly make real-time applications (such as <i>games</i> and graphicsl visualizations).
					I've been programming for about 10 years now.</p>
					<p>Currently, I'm studying <b>Information Systems</b>.</p>
				</section>
				<section>
					<h2 id="projects">Projects</h2>
					<section class="sub-card">
						<h3><a class="link" href="https://github.com/DCubix/3D-Software-Renderer">3D Software Rasterizer</a></h3>
						<div class="hcontainer">
							<a target="_blank" href="./img/dragon_fallback.jpg">
								<div class="imgcard">
									<img src="./img/dragon_fallback.jpg" />
								</div>
							</a>
							<a target="_blank" href="./img/monkey_fallback.jpg">
								<div class="imgcard">
									<img src="./img/monkey_fallback.jpg" />
								</div>
							</a>
							<a target="_blank" href="./img/teapot.png">
								<div class="imgcard">
									<img src="./img/teapot.png" />
								</div>
							</a>
						</div>
						<div class="container">
							<p>Fast 3D multi-threaded CPU rasterizer written in C++. It supports shaders, textures and more.</p>
						</div>
					</section>

					<section class="sub-card">
						<h3><a class="link" href="https://github.com/DCubix/Twist">Twist</a></h3>
						<div class="hcontainer">
							<a target="_blank" href="./img/twist.png">
								<div class="imgcard">
									<img src="./img/twist.png" />
								</div>
							</a>
						</div>
						<div class="container">
							<p>Node-based audio synthesizer. A tool for making sound effects and soundtracks.</p>
						</div>
					</section>

					<section class="sub-card">
						<h3><a class="link" href="https://github.com/DCubix/engine-cpp">3D Game Engine</a></h3>
						<div class="hcontainer">
							<a target="_blank" href="./img/editor.jpg">
								<div class="imgcard">
									<img src="./img/editor.jpg" />
								</div>
							</a>
							<a target="_blank" href="./img/engine.png">
								<div class="imgcard">
									<img src="./img/engine.png" />
								</div>
							</a>
						</div>
						<div class="container">
							<p>Advanced 3D game engine focused on graphics and performance.</p>
						</div>
					</section>

					<section class="sub-card">
						<h3><a class="link" href="https://codepen.io/TwisterGE/pen/rdrpzG">Logo-Assembly</a></h3>
						<div class="hcontainer">
							<a target="_blank" href="./img/logoasm.gif">
								<div class="imgcard">
									<img src="./img/logoasm.gif" />
								</div>
							</a>
						</div>
						<div class="container">
							<p>A custom compiled Assembly language for Logo/Turtle Graphics programming. Written in TypeScript and using HTML5 canvas for drawing.</p>
						</div>
					</section>

					<section class="sub-card">
						<h3><a class="link" href="./hv1">HV1</a></h3>
						<div class="hcontainer">
							<a target="_blank" href="./img/hv1.png">
								<div class="imgcard">
									<img src="./img/hv1.png" />
								</div>
							</a>
						</div>
						<div class="container">
							<p>Simple computer system with a simple assembly language.</p>
						</div>
					</section>

					<section class="sub-card">
						<h3><a class="link" href="./mikro">Mikro</a></h3>
						<div class="hcontainer">
							<a target="_blank" href="./mikro/_images/mik_demo6.gif">
								<div class="imgcard">
									<img src="./mikro/_images/mik_demo6.gif" />
								</div>
							</a>
						</div>
						<div class="container">
							<p>Mikro (pronounced <cite>mee-cro</cite>), is a really simple game platform/engine intended for <cite>small</cite> games (you could make big ones too).</p>
						</div>
					</section>
				</section>

				<section>
					<h2 id="skills">Skills</h2>
					<section class="sub-card">
						<h3>Programming Languages</h3>
						<p>Java, JavaScript, TypeScript, Python, Lua, C, C++, Rust, SQL, GLSL</p>
						<h3>Markup Languages</h3>
						<p>HTML, CSS, Markdown</p>
						<h3>Technologies</h3>
						<p>OpenGL, ReactJS, React-Native, CMake, Git, Firebase, Android, SQLServer</p>
						<h3>Languages</h3>
						<p>Portuguese (Brazil), English, Spanish</p>
					</section>
				</section>
			</div>
		</div>

		<!-- <script src="//unpkg.com/navigo@6"></script> -->
		<!-- <script src="./js/showdown.js"></script> -->
		<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script> -->

		<script type="text/javascript">
			let mainHeader = document.getElementById("mainHeader");
			let canvas = document.getElementById("disp");
			let ctx = canvas.getContext("2d");

			window.onresize = function() {
				canvas.width = document.body.clientWidth;
				canvas.height = mainHeader.clientHeight;

				ctx.fillStyle = "rgb(37, 33, 32)";
				ctx.fillRect(0, 0, canvas.width, canvas.height);
			};
			window.onresize();

			let MAX_PARTICLES = 200;
			let particles = [];

			const Directions = [
				[1, 0],
				[1, 1],
				[0, 1],
				[-1, 1],
				[-1, 0],
				[-1, -1],
				[0, -1],
				[1, -1]
			];

			for (let i = 0; i < MAX_PARTICLES; i++) {
				particles.push({
					x: 0,
					y: 0,
					px: 0,
					py: 0,
					dx: 0,
					dy: 0,
					dir: 0,
					speed: 0,
					dirTime: 0,
					dirChangeRate: 0,
					dead: true
				});
			}

			function redraw() {
				ctx.fillStyle = "rgba(37, 33, 32, 0.1)";
				ctx.fillRect(0, 0, canvas.width, canvas.height);

				for (let i = 0; i < MAX_PARTICLES; i++) {
					let p = particles[i];
					if (p.dead) continue;

					ctx.save();
					ctx.globalCompositeOperation = "lighter";
					ctx.strokeStyle = "rgba(229, 223, 197, 0.7)";
					ctx.lineWidth = 1.5;
					ctx.lineCap = "round";

					ctx.beginPath();
					ctx.moveTo(p.px, p.py);
					ctx.lineTo(p.x, p.y);
					ctx.stroke();
					ctx.restore();

					ctx.save();
					ctx.globalCompositeOperation = "lighter";
					ctx.lineWidth = 2.0;
					ctx.lineCap = "round";
					ctx.shadowColor = "rgba(229, 223, 197, 0.95)";
					ctx.shadowBlur = 12;
					ctx.shadowOffsetX = 0;
					ctx.shadowOffsetY = 0;
					ctx.beginPath();
					ctx.moveTo(p.px, p.py);
					ctx.lineTo(p.x, p.y);
					ctx.stroke();
					ctx.restore();
				}
			}

			function emitParticle(x, y, dir) {
				let p = null;
				for (let i = 0; i < MAX_PARTICLES; i++) {
					if (particles[i].dead) {
						p = i;
						break;
					}
				}

				if (p === null) return;

				particles[p].dead = false;
				particles[p].px = particles[p].x = x;
				particles[p].py = particles[p].y = y;
				particles[p].dirChangeRate = ~~(5.0 + Math.random() * 20.0);
				particles[p].dirTime = particles[p].dirChangeRate + 1;
				particles[p].speed = 2.0 + Math.random();
				particles[p].dir = dir;
			}

			window.onmousedown = function(e) {
				e = e || window.event;
				let id = (e.target || e.srcElement).id;
				if (id !== "avatar") return;

				let avatar = document.getElementById(id);
				let rect = avatar.getBoundingClientRect();
				let x = rect.left + avatar.clientWidth / 2;
				let y = rect.top + avatar.clientHeight / 2;

				//let cr = canvas.getBoundingClientRect();
				//let x = e.clientX - cr.left;
				//let y = e.clientY - cr.top;
				for (let i = 0; i < 50; i++) {
					emitParticle(x, y, ~~(Math.random() * (Directions.length-1)));
				}
			};

			function emit() {
				let side = ~~Math.floor(Math.random() * 4);

				let x = 0,
					y = 0,
					dir = 0;
				switch (side) {
					default:
					case 0: // LEFT
						dir = 0;
						y = Math.random() * (canvas.height - 1);
					break;
					case 1: // TOP
						dir = 2;
						x = Math.random() * (canvas.width - 1);
					break;
					case 2: // RIGHT
						dir = 4;
						x = canvas.width - 1;
						y = Math.random() * (canvas.height - 1);
					break;
					case 3: // BOTTOM
						dir = 6;
						x = Math.random() * (canvas.width - 1);
						y = canvas.height - 1;
					break;
				}

				emitParticle(x, y, dir);
			}

			let time = 0;
			function update() {
				let t = time++ % 5;
				if (t == 0) {
					emit();
				}

				for (let i = 0; i < MAX_PARTICLES; i++) {
					let p = particles[i];
					if (p.dead) continue;

					if (p.dirTime++ >= p.dirChangeRate) {
						const incs = [-1, 0, 1];
						let dirIndex = p.dir;
						dirIndex += incs[Math.floor((Math.random() * incs.length))];
						dirIndex %= Directions.length;
						if (dirIndex < 0) {
							dirIndex = Directions.length + dirIndex;
						}

						p.dir = dirIndex;
						p.dirChangeRate = 5.0 + Math.random() * 20.0;
						p.dirTime = 0;
					} else {
						let dir = Directions[p.dir];
						p.dx = dir[0];
						p.dy = dir[1];
					}

					p.px = p.x;
					p.py = p.y;
					p.x += p.dx * p.speed;
					p.y += p.dy * p.speed;

					if (p.x < 0 || p.x > canvas.width ||
						p.y < 0 || p.y > canvas.height)
						p.dead = true;
				}
			}

			function loop() {
				update();
				redraw();
				window.requestAnimationFrame(loop);
			}

			loop();
		</script>

	</body>
</html>